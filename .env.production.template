# Environment Variables Template for Production

# ============================================================================
# FRONTEND (equity-insight-react) - Vercel Environment Variables
# ============================================================================
# Add these in Vercel Dashboard → Settings → Environment Variables

VITE_API_BASE_URL=https://your-backend.vercel.app
VITE_AUTOTRADE_API_BASE_URL=https://your-autotrade.vercel.app


# ============================================================================
# BACKEND (backend) - Vercel Environment Variables
# ============================================================================
# Add these in Vercel Dashboard → Settings → Environment Variables

# Database Configuration
DATABASE_URL=postgresql://user:password@host.supabase.co:5432/postgres
SUPABASE_URL=https://xxxxxxxxxxxxx.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# AI Services
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
DEEPSEEK_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
LANGCHAIN_API_KEY=lsv2_pt_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
XAI_API_KEY=xai-xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Google OAuth (Get from https://console.cloud.google.com)
GOOGLE_CLIENT_ID=xxxxxxxxxxxx-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-xxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Security
JWT_SECRET=your_random_32_character_string_here_use_openssl_rand_base64_32

# Application
NODE_ENV=production
PORT=4000

# CORS (Update after frontend deployment)
ALLOWED_ORIGINS=https://your-frontend.vercel.app

# Auto-trading API URL (Update after Vercel deployment)
AUTOTRADE_API_BASE_URL=https://your-autotrade.vercel.app


# ============================================================================
# AUTO-TRADING SERVICE (python-auto-trade) - Vercel Environment Variables
# ============================================================================
# Add these in Vercel Dashboard → Variables

# Database Configuration
DATABASE_URL=postgresql://user:password@host.supabase.co:5432/postgres
SUPABASE_URL=https://xxxxxxxxxxxxx.supabase.co
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Redis Configuration (From Upstash)
UPSTASH_REDIS_REST_URL=https://your-db-xxxxx.upstash.io
UPSTASH_REDIS_REST_TOKEN=AXXXAxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# OKX API Configuration
# IMPORTANT: Create API key at https://www.okx.com/demo-trading for demo mode
OKX_API_KEY=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx
OKX_API_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
OKX_API_PASSPHRASE=YourPassphrase123
OKX_BASE_URL=https://my.okx.com
OKX_DEMO_MODE=true

# AI Services
DEEPSEEK_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# CCXT Configuration
CCXT_EXCHANGE_ID=okx
CCXT_SHORT_TERM_TIMEFRAME=15m
CCXT_LONG_TERM_TIMEFRAME=1h

# Trading Symbols (comma-separated)
TRADING_SYMBOLS=BTC-USDT-SWAP,ETH-USDT-SWAP,SOL-USDT-SWAP,BNB-USDT-SWAP,DOGE-USDT-SWAP,XRP-USDT-SWAP

# Scheduler Configuration (in minutes)
LLM_DECISION_INTERVAL_MINUTES=30
POSITION_SYNC_INTERVAL_MINUTES=5

# Logging
LOG_LEVEL=INFO


# ============================================================================
# HOW TO GET THESE VALUES
# ============================================================================

# 1. DATABASE_URL (Supabase)
#    - Go to https://app.supabase.com
#    - Select your project
#    - Settings → Database → Connection string → URI
#    - Copy the connection string (replace [YOUR-PASSWORD])

# 2. SUPABASE_URL & SUPABASE_ANON_KEY
#    - Settings → API → Project URL
#    - Settings → API → Project API keys → anon/public

# 3. SUPABASE_SERVICE_KEY
#    - Settings → API → Project API keys → service_role
#    - ⚠️ Keep this secret! Only use server-side

# 4. OPENAI_API_KEY
#    - Go to https://platform.openai.com/api-keys
#    - Create new secret key
#    - Copy and save immediately (can't view again)

# 5. DEEPSEEK_API_KEY
#    - Go to https://platform.deepseek.com
#    - API Keys section
#    - Create new key

# 6. LANGCHAIN_API_KEY
#    - Go to https://smith.langchain.com
#    - Settings → API Keys
#    - Create new key

# 7. XAI_API_KEY
#    - Go to https://x.ai/api
#    - Create API key

# 8. GOOGLE_CLIENT_ID & GOOGLE_CLIENT_SECRET
#    - Go to https://console.cloud.google.com
#    - Select project or create new one
#    - APIs & Services → Credentials
#    - Create OAuth 2.0 Client ID (Web application)
#    - Add authorized redirect URI: https://your-frontend.vercel.app/auth/google/callback

# 9. JWT_SECRET
#    - Generate with: openssl rand -base64 32
#    - Or use: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"

# 10. OKX API Credentials
#     FOR DEMO TRADING:
#     - Go to https://www.okx.com/demo-trading
#     - Account → API Management → Create API Key
#     - Select permissions: Trade + Read
#     - Save API Key, Secret Key, and Passphrase
#     
#     FOR LIVE TRADING:
#     - Go to https://www.okx.com
#     - Account → API Management → Create API Key
#     - ⚠️ Use with caution - real money!


# ============================================================================
# SECURITY NOTES
# ============================================================================

# ⚠️ NEVER commit this file with real values to git
# ⚠️ Store production keys in a password manager (1Password, LastPass, etc.)
# ⚠️ Rotate API keys regularly (every 90 days recommended)
# ⚠️ Use different keys for development and production
# ⚠️ Monitor API usage and costs
# ⚠️ Enable 2FA on all accounts
# ⚠️ For OKX: Use demo mode first, test thoroughly before going live


# ============================================================================
# VERIFICATION CHECKLIST
# ============================================================================

# Before deploying, verify:
# □ All placeholder values replaced with real credentials
# □ Database URL is accessible from Vercel/Railway
# □ API keys are active and have correct permissions
# □ Google OAuth redirect URI matches your frontend URL
# □ OKX API key matches the trading mode (demo vs live)
# □ CORS origins include your frontend URL
# □ All services use HTTPS URLs (no http://)
# □ No trailing slashes in URLs


# ============================================================================
# COST MONITORING
# ============================================================================

# Set up billing alerts for:
# - OpenAI: https://platform.openai.com/account/billing/limits
# - DeepSeek: Check their dashboard for usage
# - Vercel: Settings → Billing → Usage notifications
# - Railway: Project → Settings → Notifications
# - Supabase: Project Settings → Billing → Usage

# Recommended monthly budgets:
# - OpenAI: $50-100 (depending on usage)
# - DeepSeek: $20-50
# - Vercel: Free tier usually sufficient
# - Railway: $10-20 for auto-trading + Redis
# - Supabase: Free tier usually sufficient
